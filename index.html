<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–°–∏—Å—Ç–µ–º–∞ ¬´3 –±–∞–Ω–æ—á–∫–∏¬ª ‚Äî v5 (–ø–æ–¥—Ü–µ–ª–∏ –∏ –º–∏–Ω–∏-–ø–æ–¥—Ü–µ–ª–∏)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <div class="title"><span class="emoji">üè¶</span><h1>–°–∏—Å—Ç–µ–º–∞ ¬´3 –±–∞–Ω–æ—á–∫–∏¬ª</h1></div>
    <div class="subtitle">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é –±–∞–Ω–æ—á–∫—É ‚Ä¢ –ü–æ–¥—Ü–µ–ª–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º ‚Ä¢ –ú–∏–Ω–∏‚Äë–ø–æ–¥—Ü–µ–ª–∏</div>
  </header>

  <main class="container">
    <section class="panel">
      <h2>üí° –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–Ω–æ—á–∫—É</h2>
      <div class="controls">
        <label>–°—É–º–º–∞ (‚Ç™):
          <input id="incomeInput" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 100" />
        </label>
        <label>–ö—É–¥–∞ –∑–∞—á–∏—Å–ª–∏—Ç—å:
          <select id="jarSelect">
            <option value="0">üí∞ –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</option>
            <option value="1">üíû –§–æ–Ω–¥ —Ä–∞–¥–æ—Å—Ç–∏</option>
            <option value="2">üå± –ö–æ–ø–∏–ª–∫–∞ –¥–æ–±—Ä–∞</option>
          </select>
        </label>
        <button id="allocateBtn" class="btn primary">–ó–∞—á–∏—Å–ª–∏—Ç—å</button>
        <button id="undoBtn" class="btn">–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π</button>
        <div class="split-col buttons">
          <button id="resetBtn" class="btn danger">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
          <button id="exportBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç (.json)</button>
          <label class="import-label btn">
            –ò–º–ø–æ—Ä—Ç
            <input id="importInput" type="file" accept="application/json" hidden />
          </label>
        </div>
      </div>
    </section>

    <section class="grid">
      <article class="card" id="jar0">
        <div class="card-head">
          <div class="left"><span class="emoji">üí∞</span><h3>–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</h3></div>
          <div class="right"><span class="muted">—Å–≤–æ–±–æ–¥–Ω–æ:</span> <b><span id="jar0Free">0</span> ‚Ç™</b></div>
        </div>
        <p class="hints">–ü–æ–¥—Ü–µ–ª–∏: Invest (—Å –º–∏–Ω–∏‚Äë–ø–æ–¥—Ü–µ–ª—è–º–∏), –†–µ–∑–µ—Ä–≤, –î–æ–º, Travel 2025‚Äì2027 (—Å –º–∏–Ω–∏‚Äë–ø–æ–¥—Ü–µ–ª—è–º–∏), Car, ¬´–§–æ–Ω–¥ —Ä–∞–∑–≤–∏—Ç–∏—è¬ª</p>
        <div id="subgoals0" class="subgoals"></div>
        <div class="spend">
          <input id="spend0Amt" type="number" min="0" step="0.01" placeholder="–°–ø–∏—Å–∞—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö ‚Ç™" />
          <input id="spend0Note" type="text" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" />
          <button id="spend0Btn" class="btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </article>

      <article class="card" id="jar1">
        <div class="card-head">
          <div class="left"><span class="emoji">üíû</span><h3>–§–æ–Ω–¥ —Ä–∞–¥–æ—Å—Ç–∏</h3></div>
          <div class="right"><span class="muted">—Å–≤–æ–±–æ–¥–Ω–æ:</span> <b><span id="jar1Free">0</span> ‚Ç™</b></div>
        </div>
        <div class="subhead">üß© –í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è</div>
        <div id="subgoals1a" class="subgoals"></div>
        <div class="subhead">üå∑ –°–µ–±–µ ¬´–≤ –Ω–∞–≥—Ä–∞–¥—É¬ª</div>
        <div id="subgoals1b" class="subgoals"></div>
        <div class="spend">
          <input id="spend1Amt" type="number" min="0" step="0.01" placeholder="–°–ø–∏—Å–∞—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö ‚Ç™" />
          <input id="spend1Note" type="text" placeholder="–ù–∞ —á—Ç–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª(–∞)?" />
          <button id="spend1Btn" class="btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </article>

      <article class="card" id="jar2">
        <div class="card-head">
          <div class="left"><span class="emoji">üå±</span><h3>–ö–æ–ø–∏–ª–∫–∞ –¥–æ–±—Ä–∞</h3></div>
          <div class="right"><span class="muted">—Å–≤–æ–±–æ–¥–Ω–æ:</span> <b><span id="jar2Free">0</span> ‚Ç™</b></div>
        </div>
        <div id="subgoals2" class="subgoals"></div>
        <div class="spend">
          <input id="spend2Amt" type="number" min="0" step="0.01" placeholder="–°–ø–∏—Å–∞—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö ‚Ç™" />
          <input id="spend2Note" type="text" placeholder="–ö–æ–º—É –ø–æ–º–æ–≥(–ª–∞)?" />
          <button id="spend2Btn" class="btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </article>
    </section>

    <section class="panel">
      <h2>üßæ –ò—Å—Ç–æ—Ä–∏—è</h2>
      <div id="history" class="history"></div>
    </section>
  </main>

  <footer class="footer">
    –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (localStorage).
  </footer>

  <template id="rowTpl">
    <div class="row">
      <div class="when"></div>
      <div class="amount"></div>
      <div class="split-detail"></div>
    </div>
  </template>

  <template id="subgoalGroupTpl">
    <div class="subgoal group">
      <div class="sg-top">
        <div class="sg-name"></div>
        <div class="sg-badges">
          <span class="muted">—Ü–µ–ª—å:</span> <b class="sg-target">0</b> ‚Ç™ ‚Ä¢ 
          <span class="muted">–Ω–∞–∫–æ–ø–ª–µ–Ω–æ:</span> <b class="sg-saved">0</b> ‚Ç™ ‚Ä¢ 
          <b class="sg-pct">0%</b>
        </div>
      </div>
      <div class="progress mini"><div class="progress-bar"></div></div>
      <div class="children"></div>
    </div>
  </template>

  <template id="subgoalLeafTpl">
    <div class="subgoal">
      <div class="sg-top">
        <div class="sg-name"></div>
        <div class="sg-badges">
          <span class="muted">—Ü–µ–ª—å:</span> <b class="sg-target">0</b> ‚Ç™ ‚Ä¢ 
          <span class="muted">–Ω–∞–∫–æ–ø–ª–µ–Ω–æ:</span> <b class="sg-saved">0</b> ‚Ç™ ‚Ä¢ 
          <b class="sg-pct">0%</b>
        </div>
      </div>
      <div class="progress mini"><div class="progress-bar"></div></div>
      <div class="sg-actions">
        <input class="sg-target-input" type="number" min="0" step="0.01" placeholder="–¶–µ–ª—å, ‚Ç™" />
        <input class="sg-add-amt" type="number" min="0" step="0.01" placeholder="–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö ‚Ç™" />
        <button class="btn sg-add-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
        <input class="sg-spend-amt" type="number" min="0" step="0.01" placeholder="–°–ø–∏—Å–∞—Ç—å –∏–∑ –ø–æ–¥—Ü–µ–ª–∏ ‚Ç™" />
        <button class="btn sg-spend-btn">–°–ø–∏—Å–∞—Ç—å</button>
      </div>
    </div>
  </template>

  <script src="style.css"></script>
  <script src="app.js"></script>
</body>
</html>
