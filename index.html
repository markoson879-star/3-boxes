<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–°–∏—Å—Ç–µ–º–∞ ¬´3 –±–∞–Ω–æ—á–∫–∏¬ª ‚Äî GitHub Pages</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <div class="title"><span class="emoji">üè¶</span><h1>3 –ë–∞–Ω–æ—á–∫–∏</h1></div>
    <div class="subtitle">–ü–æ–¥—Ü–µ–ª–∏, –º–∏–Ω–∏‚Äë–ø–æ–¥—Ü–µ–ª–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
  </header>

  <main class="container">
    <section class="panel">
      <h2>üí° –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–Ω–æ—á–∫—É (—Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–µ–Ω—å–≥–∏)</h2>
      <div class="controls">
        <label>–°—É–º–º–∞ (‚Ç™)
          <input id="incomeInput" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 100" />
        </label>
        <label>–ö—É–¥–∞ –∑–∞—á–∏—Å–ª–∏—Ç—å
          <select id="jarSelect">
            <option value="0">üí∞ –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</option>
            <option value="1">üíû –§–æ–Ω–¥ —Ä–∞–¥–æ—Å—Ç–∏</option>
            <option value="2">üå± –ö–æ–ø–∏–ª–∫–∞ –¥–æ–±—Ä–∞</option>
          </select>
        </label>
        <button id="allocateBtn" class="btn primary">–ó–∞—á–∏—Å–ª–∏—Ç—å</button>
        <div class="buttons">
          <button id="resetBtn" class="btn danger">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
          <button id="exportBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç (.json)</button>
          <label class="import-label btn">
            –ò–º–ø–æ—Ä—Ç
            <input id="importInput" type="file" accept="application/json" hidden />
          </label>
        </div>
      </div>
      <p class="muted small">–°–æ–≤–µ—Ç: —Å–Ω–∞—á–∞–ª–∞ –∑–∞—á–∏—Å–ª—è–π—Ç–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ –±–∞–Ω–æ—á–∫—É, –∑–∞—Ç–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –ø–æ –ø–æ–¥—Ü–µ–ª—è–º –Ω–∏–∂–µ.</p>
    </section>

    <section class="grid">
      <!-- Jar 0 -->
      <article class="card" id="jar0">
        <div class="card-head">
          <div class="left"><span class="emoji">üí∞</span><h3>–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</h3></div>
          <div class="right"><span class="muted">—Å–≤–æ–±–æ–¥–Ω–æ:</span> <b><span id="jar0Free">0</span> ‚Ç™</b></div>
        </div>
        <p class="hints">Invest (–º–∏–Ω–∏), –†–µ–∑–µ—Ä–≤, –î–æ–º, Travel 2025‚Äì2027 (–º–∏–Ω–∏), Car, ¬´–§–æ–Ω–¥ —Ä–∞–∑–≤–∏—Ç–∏—è¬ª</p>
        <div id="subgoals0" class="subgoals"></div>
        <div class="spend">
          <label>–°–ø–∏—Å–∞—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö (‚Ç™)
            <input id="spend0Amt" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 50" />
          </label>
          <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
            <input id="spend0Note" type="text" placeholder="–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ" />
          </label>
          <button id="spend0Btn" class="btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </article>

      <!-- Jar 1 -->
      <article class="card" id="jar1">
        <div class="card-head">
          <div class="left"><span class="emoji">üíû</span><h3>–§–æ–Ω–¥ —Ä–∞–¥–æ—Å—Ç–∏</h3></div>
          <div class="right"><span class="muted">—Å–≤–æ–±–æ–¥–Ω–æ:</span> <b><span id="jar1Free">0</span> ‚Ç™</b></div>
        </div>
        <div class="subhead">üß© –í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è</div>
        <div id="subgoals1a" class="subgoals"></div>
        <div class="subhead">üå∑ –°–µ–±–µ ¬´–≤ –Ω–∞–≥—Ä–∞–¥—É¬ª</div>
        <div id="subgoals1b" class="subgoals"></div>
        <div class="spend">
          <label>–°–ø–∏—Å–∞—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö (‚Ç™)
            <input id="spend1Amt" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 50" />
          </label>
          <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
            <input id="spend1Note" type="text" placeholder="–ù–∞ —á—Ç–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª(–∞)?" />
          </label>
          <button id="spend1Btn" class="btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </article>

      <!-- Jar 2 -->
      <article class="card" id="jar2">
        <div class="card-head">
          <div class="left"><span class="emoji">üå±</span><h3>–ö–æ–ø–∏–ª–∫–∞ –¥–æ–±—Ä–∞</h3></div>
          <div class="right"><span class="muted">—Å–≤–æ–±–æ–¥–Ω–æ:</span> <b><span id="jar2Free">0</span> ‚Ç™</b></div>
        </div>
        <div id="subgoals2" class="subgoals"></div>
        <div class="spend">
          <label>–°–ø–∏—Å–∞—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö (‚Ç™)
            <input id="spend2Amt" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 50" />
          </label>
          <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
            <input id="spend2Note" type="text" placeholder="–ö–æ–º—É –ø–æ–º–æ–≥(–ª–∞)?" />
          </label>
          <button id="spend2Btn" class="btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </article>
    </section>
  </main>

  <footer class="footer">
    –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (localStorage).
  </footer>

  <!-- Templates for subgoals -->
  <template id="subgoalGroupTpl">
    <div class="subgoal group">
      <div class="sg-top">
        <div class="sg-name"></div>
        <div class="sg-badges">
          <span class="muted">—Ü–µ–ª—å:</span> <b class="sg-target">0</b> ‚Ç™ ‚Ä¢ 
          <span class="muted">–Ω–∞–∫–æ–ø–ª–µ–Ω–æ:</span> <b class="sg-saved">0</b> ‚Ç™ ‚Ä¢ 
          <b class="sg-pct">0%</b>
        </div>
      </div>
      <div class="progress mini"><div class="progress-bar"></div></div>
      <div class="children"></div>
    </div>
  </template>

  <template id="subgoalLeafTpl">
    <div class="subgoal">
      <div class="sg-top">
        <div class="sg-name"></div>
        <div class="sg-badges">
          <span class="muted">—Ü–µ–ª—å:</span> <b class="sg-target">0</b> ‚Ç™ ‚Ä¢ 
          <span class="muted">–Ω–∞–∫–æ–ø–ª–µ–Ω–æ:</span> <b class="sg-saved">0</b> ‚Ç™ ‚Ä¢ 
          <b class="sg-pct">0%</b>
        </div>
      </div>
      <div class="progress mini"><div class="progress-bar"></div></div>
      <div class="sg-actions">
        <label>–¶–µ–ª—å (‚Ç™)
          <input class="sg-target-input" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 1000" />
        </label>
        <div class="inline-actions">
          <label>–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö (‚Ç™)
            <input class="sg-add-amt" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 100" />
          </label>
          <button class="btn sg-add-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
        </div>
        <div class="inline-actions">
          <label>–°–ø–∏—Å–∞—Ç—å –∏–∑ –ø–æ–¥—Ü–µ–ª–∏ (‚Ç™)
            <input class="sg-spend-amt" type="number" min="0" step="0.01" placeholder="–ù–∞–ø—Ä.: 50" />
          </label>
          <button class="btn sg-spend-btn">–°–ø–∏—Å–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </template>

  <script src="app.js"></script>
</body>
</html>
