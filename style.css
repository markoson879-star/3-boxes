/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
  color: #0f172a;
  background: linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%);
}

.app-header { padding: 24px 16px 8px; text-align: center; }
.app-header .title { display:inline-flex; align-items:center; gap:12px; }
.app-header .emoji { font-size:28px; }
.app-header h1 { margin:0; font-size:28px; font-weight:800; letter-spacing:-.02em; }
.app-header .subtitle { color:#475569; margin-top:6px; }

.container { max-width: 1100px; margin: 0 auto; padding: 12px 16px 40px; }

.panel {
  background: #ffffffcc;
  backdrop-filter: blur(8px);
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  box-shadow: 0 8px 30px rgba(2,6,23,.06);
  padding: 16px;
  margin-bottom: 16px;
}
.panel h2 { margin: 0 0 12px; font-size: 18px; }

.controls { display:grid; grid-template-columns: 1fr 1fr auto auto; gap:10px; align-items:end; }
.controls input[type=number], .controls select{ width:100%; }

label { display:grid; gap:6px; font-size:14px; color:#334155; }
input[type=number], input[type=text], select{
  border:1px solid #cbd5e1; border-radius:10px; padding:10px 12px; font-size:16px; background:#fff;
}
.btn { border:1px solid #cbd5e1; background:#fff; border-radius:12px; padding:10px 14px; font-weight:600; cursor:pointer; transition:transform .05s, box-shadow .2s; }
.btn:hover { box-shadow:0 6px 16px rgba(2,6,23,.08); }
.btn:active { transform:translateY(1px); }
.btn.primary { background:#4f46e5; border-color:#4338ca; color:#fff; }
.btn.danger { background:#ef4444; border-color:#dc2626; color:#fff; }
.import-label.btn{ display:inline-flex; align-items:center; gap:8px; }

.grid { display:grid; grid-template-columns: repeat(3,1fr); gap:12px; }
@media (max-width: 1040px){ .grid{ grid-template-columns:1fr; } .controls{ grid-template-columns:1fr; } }

.card { background:#fff; border:1px solid #e2e8f0; border-radius:16px; padding:14px; box-shadow:0 10px 30px rgba(2,6,23,.06); }
.card-head { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.card-head .left { display:flex; align-items:center; gap:8px; }
.card h3{ margin:0; font-size:18px; }
.muted{ color:#64748b; }
.hints{ margin:8px 0 0; color:#475569; font-size:14px; }

.progress { height:18px; background:#f1f5f9; border:1px solid #e2e8f0; border-radius:999px; overflow:hidden; margin:8px 0; }
.progress.mini{ height:10px; }
.progress-bar { height:100%; width:0%; background:linear-gradient(90deg,#22c55e 0%,#16a34a 100%); transition: width .3s ease; }

.subhead{ font-weight:800; margin:8px 0 4px; }
.subgoals{ display:grid; gap:10px; margin-top:8px; }
.subgoal{ border:1px solid #e2e8f0; border-radius:12px; padding:10px; background:#f8fafc; }
.subgoal.group{ background:#f1f5f9; }
.sg-top{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.sg-name{ font-weight:700; }
.sg-badges{ font-size:13px; color:#475569; }

.children{ display:grid; gap:10px; margin-top:8px; padding-left:10px; border-left:3px solid #e2e8f0; }
.child .sg-actions{ display:grid; grid-template-columns: 1fr 1fr auto 1fr auto; gap:8px; align-items:end; }

.sg-actions{ display:grid; grid-template-columns: 1fr 1fr auto 1fr auto; gap:8px; align-items:end; }
@media (max-width: 560px){ .sg-actions{ grid-template-columns:1fr; } .child .sg-actions{ grid-template-columns:1fr; } }

.history{ display:grid; gap:8px; }
.history .row{ display:grid; grid-template-columns:140px 1fr 2fr; gap:10px; align-items:center; background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:10px; }
.history .row .when{ font-variant-numeric: tabular-nums; color:#475569; }
.history .row .amount{ font-weight:700; }

.footer{ text-align:center; color:#64748b; padding:24px 12px; font-size:14px; }
